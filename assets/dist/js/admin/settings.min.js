(()=>{"use strict";!function(e){var t=window.gpls_wobtslr_woo_best_seller,a=t.badge_settings,o="top_left top_center top_right bottom_left bottom_center bottom_right";e(".loader").removeClass("hidden");var r=a.badge_type;if("icon"===r)var n=e(".preview-img-badge");else n=e("."+t.prefix+"-text-badge").show();var i=e(".preview-img-badge"),g=e("."+t.prefix+"-text-badge"),s=e("."+t.prefix+"-sales-badge-loop"),d=e("."+t.prefix+"-category-badge"),c=g.find("."+t.prefix+"-text-badge-wrapper"),l=c.find("."+t.prefix+"-text-badge-title"),b=[t.prefix+"-top_left",t.prefix+"-top_right",t.prefix+"-bottom_left",t.prefix+"-bottom_right",t.prefix+"-top_center",t.prefix+"-bottom_center"];e((function(p){var _,f,h,v,u,m;jQuery('[data-bs-toggle="popover"]').length&&new bootstrap.Popover('[data-bs-toggle="popover"]'),jQuery(document).on("click",".gpls-general-clipboard-icon-btn",(function(e){e.preventDefault();var t=jQuery(this),a=t.data("target"),o=jQuery(a).text();navigator.clipboard.writeText(o),setTimeout((function(){bootstrap.Popover.getOrCreateInstance(t).hide()}),1e3)})),"icon"===r&&e("."+t.prefix+"-text-badge").hide(),e(".loader").addClass("hidden"),e(".badge-icons-toggle").on("click",(function(t){t.preventDefault(),e(t.target),e(".badge-icons-wrapper").collapse("toggle")})),e(".toggle-badge").on("change",(function(t){var a=e(t.target),o=a.data("target"),r="";"best-seller-badge"===o?r=n:"sales-badge"===o?r=s:"category-badge"===o&&(r=d),a.is(":checked")?r.show():r.hide()})),u="translateX(0)",m=a.sales_badge_side,a.sales_badge_style_loop,a.sales_badge_horz_margin,a.sales_badge_vert_margin,s.css("transform"),s.parent().removeClass(o).addClass(m),s.show(),e(".edit-sales-badge-icon-text-fontsize-radio").on("change input",(function(t){var o=e(t.target).val();a.sales_badge_fontsize=o,s.css("fontSize",o+"px")})),e(".edit-sales-badge-icon-text-color-radio").on("change input",(function(t){var o=e(t.target).val();a.sales_badge_color=o,s.css("color",o)})),e(".edit-sales-badge-icon-text-bg-radio").on("change input",(function(t){var o=e(t.target).val();a.sales_badge_bg=o,s.css("backgroundColor",o)})),e(".edit-sales-badge-icon-text-font-weight-radio").on("change input",(function(t){var o=e(t.target).val();a.sales_badge_font_weight=o,s.css("fontWeight",o)})),e(".edit-sales-badge-icon-text-font-style-radio").on("change input",(function(t){var o=e(t.target).val();a.sales_badge_font_style=o,s.css("fontStyle",o)})),e(".edit-sales-badge-icon-style").on("change",(function(o){var r=e(o.target).val();a.sales_badge_style_loop=r,s.removeClass(t.prefix+"-sales-badge-horz"),s.removeClass(t.prefix+"-sales-badge-vert"),s.addClass(t.prefix+"-sales-badge-"+r)})),e(".edit-sales-badge-horz-margin").on("change input",(function(t){var o=e(t.target).val(),r=a.sales_badge_side,n={};a.sales_badge_horz_margin=o,"top_center"!==r&&"bottom_center"!==r&&(r.includes("right")?n.right=a.sales_badge_horz_margin+"px":n.left=a.sales_badge_horz_margin+"px",s.parent().css(n))})),e(".edit-sales-badge-vert-margin").on("change input",(function(t){var o=e(t.target).val(),r=a.sales_badge_side,n={};a.sales_badge_vert_margin=o,r.startsWith("top_")?(n.top=a.sales_badge_vert_margin+"px",n.bottom="unset"):(n.bottom=a.sales_badge_vert_margin+"px",n.top="unset"),s.parent().css(n)})),e(".edit-sales-badge-icon-position").on("change",(function(t){var r=e(t.target).val();a.sales_badge_side=r;var n={},i=a.sales_badge_horz_margin+"px",g=a.sales_badge_vert_margin+"px";"top_left"===r?(n={left:i,top:g},u="translateX(0)"):"top_right"===r?(n={right:i,top:g},u="translateX(0)"):"bottom_left"===r?(n={left:i,bottom:g},u="translateX(0)"):"bottom_right"===r?(n={right:i,bottom:g},u="translateX(0)"):"top_center"===r?(n={top:g,left:"50%"},u="translateX(-50%)"):"bottom_center"===r&&(n={bottom:g,left:"50%"},u="translateX(-50%)"),n.transform=u+" rotate(0deg)",s.parent().removeClass(o).addClass(r),s.parent().css(n)})),s.parent().show(),function(){if(a.badge_angle,e("."+t.prefix+"-badge-settings-wrapper .preview-img").length){var r=t.badge_settings.badge_side;a.badge_horz_margin,a.badge_vert_margin,n.attr("src",e(".edit-badge-icon-radio:checked").next("img").attr("src")),i.width(a.badge_width),i.height(a.badge_height),l.text(a.badge_text),l.css({fontSize:a.badge_fontsize,fontWeight:a.badge_font_weight,fontStyle:a.badge_font_style}),l.css({color:a.badge_color,backgroundColor:a.badge_bg}),c.css({backgroundColor:a.badge_bg}),i.parent().removeClass(o).addClass(r),g.parent().removeClass(o).addClass(r),i.parent().removeClass("small-badge"),i.parent().show(),g.parent().show(),function(){var r="",n="";e(document).on("change input",".edit-badge-icon-radio",(function(t){var o=e(t.target),r=o.val(),n=o.next().attr("src");a.badge_icon=r,i.attr("src",n)})),e(".edit-badge-icon-width").on("change input",(function(t){var o=e(t.target).val();a.badge_width=o,i.width(o)})),e(".edit-badge-icon-height").on("change input",(function(t){var o=e(t.target).val();a.badge_height=o,i.height(o)})),e(".edit-badge-icon-position").on("change",(function(s){var d=e(s.target).val();a.badge_side=d;var c=a.badge_horz_margin+"px",l=a.badge_vert_margin+"px",p={left:c,top:l};"top_left"===d?(p={left:c,top:l},n="translateX(0)"):"top_right"===d?(p={right:c,top:l},n="translateX(0)"):"bottom_left"===d?(p={left:c,bottom:l},n="translateX(0)"):"bottom_right"===d?(p={right:c,bottom:l},n="translateX(0)"):"top_center"===d?(p={top:l,left:"50%"},n="translateX(-50%)"):"bottom_center"===d&&(p={bottom:l,left:"50%"},n="translateX(-50%)"),p.transform=n+" "+r,i.parent().removeClass(o).addClass(d),g.parent().removeClass(o).addClass(d),i.parent().css(p),g.parent().css(p),b.forEach((function(e){g.find("."+t.prefix+"-text-badge-wrapper").removeClass(e)})),g.find("."+t.prefix+"-text-badge-wrapper").addClass(t.prefix+"-"+d)})),e(".edit-badge-icon-text-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_text=o,l.text(o)})),e(".edit-badge-icon-text-fontsize-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_fontsize=o,l.css("fontSize",o+"px")})),e(".edit-badge-icon-text-color-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_color=o,l.css("color",o)})),e(".edit-badge-icon-text-bg-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_bg=o,c.css("backgroundColor",o),l.css("backgroundColor",o)})),e(".edit-badge-icon-text-font-weight-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_font_weight=o,l.css("fontWeight",o)})),e(".edit-badge-icon-text-font-style-radio").on("change input",(function(t){var o=e(t.target).val();a.badge_font_style=o,l.css("fontStyle",o)})),e(".edit-badge-horz-margin").on("change input",(function(t){var o=e(t.target).val(),r=a.badge_side,n={};a.badge_horz_margin=o,"top_center"!==r&&"bottom_center"!==r&&(r.includes("right")?n.right=a.badge_horz_margin+"px":n.left=a.badge_horz_margin+"px",i.parent().css(n),g.parent().css(n))})),e(".edit-badge-vert-margin").on("change input",(function(t){var o=e(t.target).val(),r=a.badge_side,n={};a.badge_vert_margin=o,r.startsWith("top_")?(n.top=a.badge_vert_margin+"px",n.bottom="unset"):(n.bottom=a.badge_vert_margin+"px",n.top="unset"),i.parent().css(n),g.parent().css(n)})),e(".edit-badge-icon-angle").on("change input",(function(t){var o=e(t.target).val();a.badge_angle=o,r="rotate( "+o+"deg )",i.parent().css({transform:n+" "+r}),g.parent().css({transform:n+" "+r})}))}()}}(),_=a.category_badge_fontsize,f=a.category_badge_font_weight,h=a.category_badge_color,v=a.category_badge_bg,d.css({fontSize:_+"px",fontWeight:f}),d.find("."+t.prefix+"-badge-title").css("fontSize",_+"px"),d.find("."+t.prefix+"-badge-title-wrapper").css("color",h),d.find("."+t.prefix+"-badge-title-wrapper").css("backgroundColor",v),d.find("."+t.prefix+"-badge-notch").css("backgroundColor",v),d.mouseenter((function(e){d.find("."+t.prefix+"-text-badge-category").css("color",v)})),d.mouseleave((function(e){d.find("."+t.prefix+"-text-badge-category").css("color","#7f54b3")})),e(".edit-category-badge-icon-text-color-radio").on("change input",(function(o){var r=e(o.target);h=r.val(),a.category_badge_color=h,d.find("."+t.prefix+"-badge-title-wrapper").css("color",h)})),e(".edit-category-badge-icon-text-bg-radio").on("change input",(function(o){var r=e(o.target);v=r.val(),a.category_badge_bg=v,d.find("."+t.prefix+"-badge-title-wrapper").css("backgroundColor",v),d.find("."+t.prefix+"-badge-notch").css("backgroundColor",v)})),e(".edit-category-badge-icon-text-fontsize-radio").on("change input",(function(o){var r=e(o.target).val();a.category_badge_fontsize=r,d.css("fontSize",r+"px"),d.find("."+t.prefix+"-badge-title").css("fontSize",r+"px")})),e(".edit-category-badge-icon-text-font-weight-radio").on("change input",(function(t){var o=e(t.target).val();a.category_badge_font_weight=o,d.css("fontWeight",o)})),e(".media-browse").on("click",(function(t){t.preventDefault();var a=e("#wp-media-icon"),o=wp.media();o.open(),o.on("select",(function(t){var r=o.state().get("selection").toJSON()[0],n="";if(r.sizes){var g=3e3,s="thumbnail";for(var d in r.sizes)r.sizes[d].width<g&&(g=r.sizes[d].width,s=d);n=r.sizes[s].url}else n=r.url;a.val(r.id),e(".badge-media-radio").removeClass("d-none").addClass("d-block").attr("checked",!0).val(r.id),e(".media-icon").attr("src",n).removeClass("hidden"),i.attr("src",n)}))})),e(".edit-badge-icon-radio").on("change input",(function(t){var a=e(t.target),o=e("#wp-media-icon"),r=a.val();o.val(r)})),e(".edit-badge-icon-type-radio").on("change input",(function(a){var o=e(a.target).val(),r=e("."+t.prefix+"-text-badge"),n=e(".preview-img-badge");"text"===o?(n.hide(),r.show()):(n.show(),r.hide())}))}))}(jQuery)})();